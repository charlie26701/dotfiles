#!/usr/bin/env bash
#  ╔╗ ╔═╗╔═╗╦ ╦╔╦╗
#  ╠╩╗╚═╗╠═╝║║║║║║
#  ╚═╝╚═╝╩  ╚╩╝╩ ╩

#  ┬┌┬┐┌─┐┌─┐┬─┐┌┬┐┌─┐┌┐┌┌┬┐  ┬  ┬┌─┐┬─┐┬┌─┐┌┐ ┬  ┌─┐┌─┐
#  ││││├─┘│ │├┬┘ │ ├─┤│││ │   └┐┌┘├─┤├┬┘│├─┤├┴┐│  ├┤ └─┐
#  ┴┴ ┴┴  └─┘┴└─ ┴ ┴ ┴┘└┘ ┴    └┘ ┴ ┴┴└─┴┴ ┴└─┘┴─┘└─┘└─┘

export RICETHEME=$(<$HOME/.theme)
PATH="$HOME/.config/bspwm/scripts:$PATH"

export _JAVA_AWT_WM_NONREPARENTING=1

#  ┬ ┬┌─┐┬─┐┬┌─┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐
#  ││││ │├┬┘├┴┐└─┐├─┘├─┤│  ├┤ └─┐
#  └┴┘└─┘┴└─┴ ┴└─┘┴  ┴ ┴└─┘└─┘└─┘

bspc monitor eDP-1 -d 1 2 3 4
bspc monitor HDMI-1 -d 5 6 7 8

for monitor in "$(xrandr -q | grep -w 'connected' | cut -d' ' -f1)"; do
	bspc monitor "${monitor}" -d '' '' '' '' '' '' '' ''
done

bspc rule -a \* state=floating

bspc rule -a Alacritty desktop=^1 follow=on state=tiled
bspc rule -a Google-chrome desktop=^2 follow=on

bspc rule -a Code desktop=^3
bspc rule -a jetbrains-idea desktop=^3
bspc rule -a neovide desktop=^3

bspc rule -a discord desktop=^4 follow=off
bspc rule -a Telegram desktop=^4
bspc rule -a Spotify desktop=^5 follow=off

bspc rule -a vlc desktop=^7 follow=on
bspc rule -a Thunar desktop=^7 follow=on

#  ┌┐ ┌─┐┌─┐┬ ┬┌┬┐  ┌─┐┌─┐┌┐┌┌─┐┬┌─┐
#  ├┴┐└─┐├─┘││││││  │  │ ││││├┤ ││ ┬
#  └─┘└─┘┴  └┴┘┴ ┴  └─┘└─┘┘└┘└  ┴└─┘

bspc config border_width				  0
bspc config window_gap					  10
bspc config split_ratio                   0
bspc config single_monocle                false
bspc config borderless_monocle            false
bspc config gapless_monocle               false

bspc config focus_follows_pointer         true
bspc config pointer_follows_focus         true
bspc config pointer_motion_interval       2
bspc config pointer_modifier              mod4
bspc config pointer_action1               move
bspc config pointer_action2               resize_side
bspc config pointer_action3               resize_corner

#  ┬  ┌─┐┬ ┬┌┐┌┌─┐┬ ┬  ┌─┐┌─┐─┐ ┬┬ ┬  ┬─┐┬┌─┐┌─┐┌─┐
#  │  ├─┤│ │││││  ├─┤  └─┐├┤ ┌┴┬┘└┬┘  ├┬┘││  ├┤ └─┐
#  ┴─┘┴ ┴└─┘┘└┘└─┘┴ ┴  └─┘└─┘┴ └─ ┴   ┴└─┴└─┘└─┘└─┘

processes=("picom" "polybar" "eww" "sxhkd" "dunst")
for process in "${processes[@]}"; do
    if pidof -q "$process"; then
        pkill -x "$process" > /dev/null; sleep 0.1
    fi
done

<<<<<<< HEAD
~/.config/configs/picom/toggle --no-opacity &
=======
<<<<<<< HEAD
picom --config "$HOME"/.config/configs/picom/picom_no_opacity.conf &
=======
~/.config/configs/picom/toggle --no-opacity &
>>>>>>> 030d01e (:>)
>>>>>>> temp-branch

dunst -config "$HOME"/.config/configs/dunstrc &

feh -z --no-fehbg --bg-fill "$HOME"/.walls

sxhkd -c "$HOME"/.config/bspwm/sxhkdrc &

xsetroot -cursor_name left_ptr

xss-lock -- betterlockscreen -l dimblur &
